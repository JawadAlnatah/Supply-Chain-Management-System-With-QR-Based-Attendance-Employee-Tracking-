<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.shape.Circle?>

<BorderPane xmlns="http://javafx.com/javafx/17"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.team.supplychain.controllers.DashboardController"
            fx:id="mainContainer"
            prefHeight="700.0" prefWidth="1200.0"
            stylesheets="@../css/styles.css">

    <!-- Top Bar -->
    <top>
        <HBox styleClass="top-bar-modern" alignment="CENTER_LEFT" spacing="20">
            <padding>
                <Insets top="20" right="30" bottom="20" left="30"/>
            </padding>

            <VBox spacing="2">
                <Label text="Supply Chain Manager" styleClass="app-title-modern">
                    <font>
                        <Font name="System Bold" size="22.0" />
                    </font>
                </Label>
                <Label text="Manage your operations efficiently" styleClass="app-subtitle">
                    <font>
                        <Font size="12.0" />
                    </font>
                </Label>
            </VBox>

            <Region HBox.hgrow="ALWAYS"/>

            <!-- Search Bar -->
            <HBox alignment="CENTER" styleClass="search-container" spacing="10">
                <Label text="ðŸ”" styleClass="search-icon">
                    <font>
                        <Font size="16.0" />
                    </font>
                </Label>
                <TextField promptText="Search..." styleClass="search-field" prefWidth="200"/>
            </HBox>

            <!-- User Profile Area -->
            <HBox alignment="CENTER" spacing="15">
                <!-- Notification Bell -->
                <VBox alignment="CENTER" styleClass="notification-icon">
                    <Label text="ðŸ””" styleClass="icon-label">
                        <font>
                            <Font size="18.0" />
                        </font>
                    </Label>
                </VBox>

                <!-- User Info -->
                <VBox alignment="CENTER_RIGHT" spacing="3">
                    <Label fx:id="welcomeLabel" text="Welcome, User!" styleClass="welcome-text-modern">
                        <font>
                            <Font name="System Bold" size="14.0" />
                        </font>
                    </Label>
                    <Label fx:id="roleLabel" text="Role: Manager" styleClass="role-text-modern">
                        <font>
                            <Font size="12.0" />
                        </font>
                    </Label>
                </VBox>

                <!-- User Avatar -->
                <StackPane styleClass="user-avatar">
                    <Label text="ðŸ‘¤" styleClass="avatar-icon">
                        <font>
                            <Font size="20.0" />
                        </font>
                    </Label>
                </StackPane>

                <Button fx:id="logoutButton" text="Logout" styleClass="logout-button-modern"
                        onAction="#handleLogout">
                    <font>
                        <Font size="13.0" />
                    </font>
                </Button>
            </HBox>
        </HBox>
    </top>

    <!-- Left Sidebar Menu -->
    <left>
        <VBox styleClass="sidebar-modern" spacing="8" prefWidth="280">
            <padding>
                <Insets top="25" right="15" bottom="25" left="15"/>
            </padding>

            <!-- Logo Section -->
            <VBox alignment="CENTER" spacing="10" styleClass="logo-section">
                <padding>
                    <Insets bottom="20"/>
                </padding>
                <Label text="ðŸ“¦" styleClass="logo-icon">
                    <font>
                        <Font size="40.0" />
                    </font>
                </Label>
                <Label text="SCMS" styleClass="logo-text">
                    <font>
                        <Font name="System Bold" size="18.0" />
                    </font>
                </Label>
            </VBox>

            <Separator styleClass="menu-separator"/>

            <Label text="NAVIGATION" styleClass="menu-header-modern">
                <font>
                    <Font name="System Bold" size="11.0" />
                </font>
                <VBox.margin>
                    <Insets top="15" bottom="10"/>
                </VBox.margin>
            </Label>

            <!-- Menu Buttons with Icons -->
            <Button fx:id="inventoryButton" text="  Inventory Management"
                    styleClass="menu-button-modern" onAction="#handleInventory"
                    maxWidth="Infinity" graphicTextGap="15">
                <graphic>
                    <Label text="ðŸ“¦" styleClass="menu-icon">
                        <font>
                            <Font size="18.0" />
                        </font>
                    </Label>
                </graphic>
                <font>
                    <Font size="14.0" />
                </font>
            </Button>

            <Button fx:id="suppliersButton" text="  Supplier Network"
                    styleClass="menu-button-modern" onAction="#handleSuppliers"
                    maxWidth="Infinity" graphicTextGap="15">
                <graphic>
                    <Label text="ðŸ­" styleClass="menu-icon">
                        <font>
                            <Font size="18.0" />
                        </font>
                    </Label>
                </graphic>
                <font>
                    <Font size="14.0" />
                </font>
            </Button>

            <Button fx:id="employeesButton" text="  Employee Management"
                    styleClass="menu-button-modern" onAction="#handleEmployees"
                    maxWidth="Infinity" graphicTextGap="15">
                <graphic>
                    <Label text="ðŸ‘¥" styleClass="menu-icon">
                        <font>
                            <Font size="18.0" />
                        </font>
                    </Label>
                </graphic>
                <font>
                    <Font size="14.0" />
                </font>
            </Button>

            <Button fx:id="attendanceButton" text="  Attendance Tracking"
                    styleClass="menu-button-modern" onAction="#handleAttendance"
                    maxWidth="Infinity" graphicTextGap="15">
                <graphic>
                    <Label text="â°" styleClass="menu-icon">
                        <font>
                            <Font size="18.0" />
                        </font>
                    </Label>
                </graphic>
                <font>
                    <Font size="14.0" />
                </font>
            </Button>

            <Button fx:id="purchaseOrdersButton" text="  Purchase Orders"
                    styleClass="menu-button-modern" onAction="#handlePurchaseOrders"
                    maxWidth="Infinity" graphicTextGap="15">
                <graphic>
                    <Label text="ðŸ“‹" styleClass="menu-icon">
                        <font>
                            <Font size="18.0" />
                        </font>
                    </Label>
                </graphic>
                <font>
                    <Font size="14.0" />
                </font>
            </Button>

            <Separator styleClass="menu-separator">
                <VBox.margin>
                    <Insets top="10" bottom="10"/>
                </VBox.margin>
            </Separator>

            <Label text="ANALYTICS" styleClass="menu-header-modern">
                <font>
                    <Font name="System Bold" size="11.0" />
                </font>
                <VBox.margin>
                    <Insets bottom="10"/>
                </VBox.margin>
            </Label>

            <Button fx:id="reportsButton" text="  Reports & Analytics"
                    styleClass="menu-button-modern" onAction="#handleReports"
                    maxWidth="Infinity" graphicTextGap="15">
                <graphic>
                    <Label text="ðŸ“Š" styleClass="menu-icon">
                        <font>
                            <Font size="18.0" />
                        </font>
                    </Label>
                </graphic>
                <font>
                    <Font size="14.0" />
                </font>
            </Button>

            <Separator styleClass="menu-separator">
                <VBox.margin>
                    <Insets top="10" bottom="10"/>
                </VBox.margin>
            </Separator>

            <Label text="SYSTEM" styleClass="menu-header-modern">
                <font>
                    <Font name="System Bold" size="11.0" />
                </font>
                <VBox.margin>
                    <Insets bottom="10"/>
                </VBox.margin>
            </Label>

            <Button fx:id="settingsButton" text="  Settings & Preferences"
                    styleClass="menu-button-modern" onAction="#handleSettings"
                    maxWidth="Infinity" graphicTextGap="15">
                <graphic>
                    <Label text="âš™ï¸" styleClass="menu-icon">
                        <font>
                            <Font size="18.0" />
                        </font>
                    </Label>
                </graphic>
                <font>
                    <Font size="14.0" />
                </font>
            </Button>

            <Region VBox.vgrow="ALWAYS"/>

            <!-- User Info Card at Bottom -->
            <VBox styleClass="user-info-card" spacing="8">
                <padding>
                    <Insets top="15" right="15" bottom="15" left="15"/>
                </padding>
                <HBox alignment="CENTER_LEFT" spacing="12">
                    <StackPane styleClass="user-avatar-small">
                        <Label text="ðŸ‘¤" styleClass="avatar-small-icon">
                            <font>
                                <Font size="16.0" />
                            </font>
                        </Label>
                    </StackPane>
                    <VBox spacing="3">
                        <Label fx:id="userInfoLabel" text="user@email.com"
                               styleClass="user-info-email" wrapText="true">
                            <font>
                                <Font size="11.0" />
                            </font>
                        </Label>
                        <Label text="Online" styleClass="user-status">
                            <font>
                                <Font size="10.0" />
                            </font>
                        </Label>
                    </VBox>
                </HBox>
            </VBox>
        </VBox>
    </left>
    
    <!-- Center Content Area -->
    <center>
        <StackPane styleClass="content-area-modern" fx:id="mainContentArea">
            <ScrollPane fitToWidth="true" fitToHeight="true" styleClass="content-scroll">
                <VBox spacing="30">
                    <padding>
                        <Insets top="30" right="30" bottom="30" left="30"/>
                    </padding>

                    <!-- Welcome Section -->
                    <VBox spacing="10">
                        <Label text="Dashboard Overview" styleClass="welcome-message-modern">
                            <font>
                                <Font name="System Bold" size="28.0" />
                            </font>
                        </Label>
                        <Label text="Monitor your supply chain operations at a glance" styleClass="subtitle-modern">
                            <font>
                                <Font size="15.0" />
                            </font>
                        </Label>
                    </VBox>

                    <!-- Dashboard Statistics Cards -->
                    <GridPane hgap="25" vgap="25">
                        <!-- Inventory Card -->
                        <VBox styleClass="stat-card-modern" spacing="15"
                              GridPane.columnIndex="0" GridPane.rowIndex="0">
                            <padding>
                                <Insets top="25" right="30" bottom="25" left="30"/>
                            </padding>
                            <HBox alignment="CENTER_LEFT" spacing="15">
                                <VBox styleClass="stat-icon-container stat-icon-blue">
                                    <Label text="ðŸ“¦" styleClass="stat-icon-modern">
                                        <font>
                                            <Font size="32.0" />
                                        </font>
                                    </Label>
                                </VBox>
                                <VBox spacing="5">
                                    <Label text="Total Inventory" styleClass="stat-label-modern">
                                        <font>
                                            <Font size="13.0" />
                                        </font>
                                    </Label>
                                    <Label text="1,234" styleClass="stat-value-modern">
                                        <font>
                                            <Font name="System Bold" size="28.0" />
                                        </font>
                                    </Label>
                                    <Label text="â†‘ 12% from last month" styleClass="stat-change-positive">
                                        <font>
                                            <Font size="11.0" />
                                        </font>
                                    </Label>
                                </VBox>
                            </HBox>
                        </VBox>

                        <!-- Employees Card -->
                        <VBox styleClass="stat-card-modern" spacing="15"
                              GridPane.columnIndex="1" GridPane.rowIndex="0">
                            <padding>
                                <Insets top="25" right="30" bottom="25" left="30"/>
                            </padding>
                            <HBox alignment="CENTER_LEFT" spacing="15">
                                <VBox styleClass="stat-icon-container stat-icon-green">
                                    <Label text="ðŸ‘¥" styleClass="stat-icon-modern">
                                        <font>
                                            <Font size="32.0" />
                                        </font>
                                    </Label>
                                </VBox>
                                <VBox spacing="5">
                                    <Label text="Active Employees" styleClass="stat-label-modern">
                                        <font>
                                            <Font size="13.0" />
                                        </font>
                                    </Label>
                                    <Label text="156" styleClass="stat-value-modern">
                                        <font>
                                            <Font name="System Bold" size="28.0" />
                                        </font>
                                    </Label>
                                    <Label text="â†‘ 8% attendance rate" styleClass="stat-change-positive">
                                        <font>
                                            <Font size="11.0" />
                                        </font>
                                    </Label>
                                </VBox>
                            </HBox>
                        </VBox>

                        <!-- Suppliers Card -->
                        <VBox styleClass="stat-card-modern" spacing="15"
                              GridPane.columnIndex="2" GridPane.rowIndex="0">
                            <padding>
                                <Insets top="25" right="30" bottom="25" left="30"/>
                            </padding>
                            <HBox alignment="CENTER_LEFT" spacing="15">
                                <VBox styleClass="stat-icon-container stat-icon-purple">
                                    <Label text="ðŸ­" styleClass="stat-icon-modern">
                                        <font>
                                            <Font size="32.0" />
                                        </font>
                                    </Label>
                                </VBox>
                                <VBox spacing="5">
                                    <Label text="Verified Suppliers" styleClass="stat-label-modern">
                                        <font>
                                            <Font size="13.0" />
                                        </font>
                                    </Label>
                                    <Label text="42" styleClass="stat-value-modern">
                                        <font>
                                            <Font name="System Bold" size="28.0" />
                                        </font>
                                    </Label>
                                    <Label text="â†‘ 5 new this month" styleClass="stat-change-positive">
                                        <font>
                                            <Font size="11.0" />
                                        </font>
                                    </Label>
                                </VBox>
                            </HBox>
                        </VBox>

                        <!-- Orders Card -->
                        <VBox styleClass="stat-card-modern" spacing="15"
                              GridPane.columnIndex="3" GridPane.rowIndex="0">
                            <padding>
                                <Insets top="25" right="30" bottom="25" left="30"/>
                            </padding>
                            <HBox alignment="CENTER_LEFT" spacing="15">
                                <VBox styleClass="stat-icon-container stat-icon-orange">
                                    <Label text="ðŸ“‹" styleClass="stat-icon-modern">
                                        <font>
                                            <Font size="32.0" />
                                        </font>
                                    </Label>
                                </VBox>
                                <VBox spacing="5">
                                    <Label text="Pending Orders" styleClass="stat-label-modern">
                                        <font>
                                            <Font size="13.0" />
                                        </font>
                                    </Label>
                                    <Label text="28" styleClass="stat-value-modern">
                                        <font>
                                            <Font name="System Bold" size="28.0" />
                                        </font>
                                    </Label>
                                    <Label text="â†“ 3 from yesterday" styleClass="stat-change-negative">
                                        <font>
                                            <Font size="11.0" />
                                        </font>
                                    </Label>
                                </VBox>
                            </HBox>
                        </VBox>
                    </GridPane>

                    <!-- Quick Actions Section -->
                    <VBox spacing="20">
                        <Label text="Quick Actions" styleClass="section-title">
                            <font>
                                <Font name="System Bold" size="20.0" />
                            </font>
                        </Label>
                        <HBox spacing="20">
                            <Button text="âž• Add New Item" styleClass="action-button-primary">
                                <font>
                                    <Font size="14.0" />
                                </font>
                            </Button>
                            <Button text="ðŸ“¦ Create Order" styleClass="action-button-secondary">
                                <font>
                                    <Font size="14.0" />
                                </font>
                            </Button>
                            <Button text="ðŸ“Š Generate Report" styleClass="action-button-secondary">
                                <font>
                                    <Font size="14.0" />
                                </font>
                            </Button>
                            <Button text="ðŸ‘¥ Add Employee" styleClass="action-button-secondary">
                                <font>
                                    <Font size="14.0" />
                                </font>
                            </Button>
                        </HBox>
                    </VBox>
                </VBox>
            </ScrollPane>
        </StackPane>
    </center>

    <!-- Bottom Status Bar -->
    <bottom>
        <HBox styleClass="status-bar-modern" alignment="CENTER_LEFT" spacing="20">
            <padding>
                <Insets top="12" right="30" bottom="12" left="30"/>
            </padding>

            <HBox alignment="CENTER" spacing="8">
                <Label text="â—" styleClass="status-indicator">
                    <font>
                        <Font size="12.0" />
                    </font>
                </Label>
                <Label text="System Online" styleClass="status-text-modern">
                    <font>
                        <Font size="12.0" />
                    </font>
                </Label>
            </HBox>

            <Separator orientation="VERTICAL"/>

            <Label text="Database: Connected" styleClass="status-text-modern">
                <font>
                    <Font size="11.0" />
                </font>
            </Label>

            <Region HBox.hgrow="ALWAYS"/>

            <Label text="Version 1.0" styleClass="version-text">
                <font>
                    <Font size="11.0" />
                </font>
            </Label>

            <Separator orientation="VERTICAL"/>

            <Label text="Â© 2025 Supply Chain Management System" styleClass="copyright-text-modern">
                <font>
                    <Font size="10.0" />
                </font>
            </Label>
        </HBox>
    </bottom>

</BorderPane>